{
  "$schema": "https://deno.land/x/denon/schema.json",
  "scripts": {
    "lint": {
      "cmd": "deno lint ./src",
      "desc": "scan Choppa source (./src) for common issues and errors.",
      "unstable": true,
      "watch": false
    },
    "migrate": {
      "allow": [
        "env",
        "net",
        "read"
      ],
      "cmd": "deno run https://deno.land/x/nessie@v1.1.2/cli.ts -d -c ./config/nessie.config.ts migrate",
      "desc": "run migration - will migrate your migrations in your migration folder (sorted by timestamp).",
      "watch": false
    },
    "rollback": {
      "allow": [
        "env",
        "net",
        "read"
      ],
      "cmd": "deno run https://deno.land/x/nessie@v1.1.2/cli.ts -d -c ./config/nessie.config.ts rollback",
      "desc": "rollback [amount|all] - rollback your migrations by the amount defined of how many migrations, defaults to 1 if not set.",
      "watch": false
    },
    "seed": {
      "allow": [
        "env",
        "net",
        "read"
      ],
      "cmd": "deno run https://deno.land/x/nessie@v1.1.2/cli.ts -d -c ./config/nessie.config.ts seed",
      "desc": "seed [name] - will seed your database using the seed folder. Seed takes an optional matcher as input. Matcher can be regex or string.",
      "watch": false
    },
    "format": {
      "cmd": "deno fmt --check",
      "watch": false
    },
    "startDev": {
      "allow": [
        "run",
        "env",
        "net",
        "write",
        "read"
      ],
      "cmd": "deno run ./src/app.ts",
      "desc": "start Choppa server (development)",
      "env": {
        "ENVIRONMENT": "development"
      },
      "lock": "./deps.lock.json",
      "log": "info",
      "tsconfig": "./tsconfig.json",
      "watch": true
    },
    "startProd": {
      "allow": [
        "run",
        "env",
        "net",
        "write",
        "read"
      ],
      "cmd": "deno run ./src/app.ts",
      "desc": "start Choppa server (production)",
      "env": {
        "_comment": "Environment variables are set by the production environment"
      },
      "lock": "./deps.lock.json",
      "tsconfig": "./tsconfig.json",
      "watch": false
    },
    "test": {
      "cmd": "deno test --allow-all tests/acceptance",
      "desc": "run Choppa backend acceptance tests",
      "tsconfig": "./tsconfig.json",
      "watch": false
    }
  },
  "watcher": {
    "interval": 350,
    "exts": [
      "ts",
      "json"
    ],
    "match": [
      "./*.*"
    ],
    "skip": [
      "*/.git/*"
    ]
  }
}